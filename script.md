![alt text](./images/castle.png)

# Vanquishing Deployment Dragons with Nx wizardry

## Storyteller

Hark, dear companions of wonder. 
I am known as Miro, a humble wanderer of Nx tales, and it is with the honor of ages of monorepo, that I shall unfold this tale and reveal thy secrets. Let us embark upon a journey through the realms of knowledge and imagination, where every step we take is a step deeper into the magic of Nx. So, with open hearts and curious minds, let our adventure commence!

## The castle

Once upon a time, a grand castle surrounded by a shimmering lake stood in a kingdom far, far away. This castle was not ordinary; it was a castle of wonders, guarded by the most vicious dragons ever imagined.

In the lack of intruders, once noble, they fell into idleness and greed. No longer soaring in the skies, they turned to extortion, demanding tributes from fearful deployment chariots. Their lairs overflowed with stolen treasures, and the kingdom despaired, waiting for a hero to end their reign of greed.

## The dragons

You see, these dragons had a peculiar fondness for a show involving one "Tim Robinson" on their enchanted Netflix, and they despised any interruptions while they were in the middle of their binging sessions.

Each day, as the young deliveryman, crossed the reclining bridge to the castle, the dragons confronted him:

"Who dares to interrupt our Netflix and Chill?" growled one of the dragons.
"It's me, 5-7," he replied timidly.
"Who?" questioned another dragon.
"The black night, the delivery man. I need to promptly deploy these boxes to the castle," he explained.
"You are being too rough on the rope," one dragon complained.
"You have to pay the bridge toll," threatened the other.
"I think you should leave", said the dragon heads in unison

With a heavy heart, the man handed over the gold he had earned, desperately needed by the dragons for their TV subscription.

Little did anyone know, these were indeed the dark ages, and subscriptions were a luxury beyond measure, just like their underwater TV.

## Bridge over the troubled water

The kingdom found itself in dire straits. They sought a savior to quell the dragon menace. Since the day the fabled delivery man, 5-8 vanished to Korea, shipments remained taxxed, trapped in the grip of the dragons' tyranny.

Many had attempted to breach the perilous dragon territory. Some rushed across the bridge, urged their horses into turbo-charged gallops, ventured under the moon's shroud, conversed in the Norwegian, and tried wearing a different pair of pants. Alas, every effort proved futile, for the dragons remained unyielding, their fiery gaze undiminished.

## The hero

Meanwhile, in a quaint village just outside the castle, there lived a young lad. He was stronger, and smarter than the rest of the villagers, yet he possessed a kind heart. He had just completed a boot camp at the local shoemaker's guild and was in search of a job. He dreamt of becoming the castle's next deliveryman, but he knew nothing about the complicated world of deployments.

His days were spent sipping on his favorite drink at the local tavern and whistling Flume's tunes in the sad key of D minor.

## The old man and the water

One day, an elderly man entered the tavern, parched and in need of a drink.

"Scussi, scussi…" he muttered, but everyone except for our young lad ignored him. He kindly offered the man a sip of his drink.

"Grazie! I left my wallet at El Segundo," the old man confessed.

"Might I humbly ask thee, dear friend, for a morsel of that fare thou dost enjoy?", the man gestured toward the square, thick doughy meal on the table.

"My pizza? Why, course fair traveler," the lad replied.

“Das ist keine pizza…" the old man began but quickly realized he shouldn't question a gift horse. When the meal was over, the man thanked the young lad and offered to help him in return.

"What's troubling you? Perhaps I can help," the old men inquired.
The youth spun a tale of mighty dragons, daring deployments, and the nefarious ways of racketeering.

### The book

He did not know; the elderly man hailed from the slopes of South Tyrol, known throughout the land as the wizard of the highest order, a master of profound arts known as Nx. The wizard revealed a mysterious book, the Book of Nx, said to contain the most potent magic in the entire development world. Thou looking brand new, one could feel millennia of knowledge within it. Its pages were blank, and there was no author's name, only the initials "AI" on the cover.

"It's magical," the wizard explained, "ask it a question, and it will answer."

He thought about the dragons, how they delayed shipments, and how they loved to watch their shows undisturbed. He asked the book, "How do I speed up the deployment process?"

## The affected and the power of many

The book's answer was simple: "When you come to the bridge, fix your gaze upon the billowing clouds and speak the incantation 'Nx affected.’ With those words, the bridge shall respond to your beckoning. As if by the hand of an unseen sorcerer, boxes, both large and small, shall disappear into the ether, leaving behind only that which truly was changed."

"But the magic does not end there, for the bridge guards a second secret. Once you have banished the superfluous, it is time to embrace the power of distributed task execution. Call upon more delivery agents, like loyal companions, to aid you in your quest. Let their efforts be carrying the burden of labor far and wide."

The lad put this knowledge to the test, and it worked like a charm. The bridge operators were astonished, and they immediately informed the king. Impressed by the lad's ingenuity, the king rewarded him with a chest of gold and sent him on his way.

## The broken circle

As time passed, the wheels on the delivery carriage would often break, and the guards struggled to fix them. 
"This devilish circle seems to be ever prone to vexing disruptions."
However, after fixing the wheel, when they shouted "Nx affected," they realized that the boxes had disappeared. It turned out that the "Nx affected" spell assumed successful past delivery and did not try to deliver the missing boxes again.

Once more, they summoned the young developer and asked him how to ensure the "affected" spell worked only on the genuinely affected boxes.

"Use 'set-shas' before you call 'affected.' It will ensure no failed deliveries are skipped over," advised the mysterious Book of Nx.

With this solution in hand, the king was satisfied and generously rewarded the lad once again.

## The locked file

However, the kingdom faced another challenge. To gather their necessary enchantments from distant realms, iStrudel sought the coveted "Pink Lady," while iJuice thirsted for the allure of "Golden Delicious" from neighboring kingdoms.

They kept a locked file with crucial information about the items, so they had to ship only the affected product whenever they changed an item.

After a string of triumphant deployments that echoed through the kingdom, they set their sights on grander horizons. It was then that they summoned a new Chief Deployment Officer, for they sought to weave even more magical wonders into their endeavors. As any manager would do in their quest for order and control, he ushered new processes upon them. He conjured a new custom “build” script, altered the keys that sealed the lock, and marked their precious artifacts with ever-evolving versions. Unfortunately, the "Nx affected" spell ceased to work yet again, for the boxes had all been altered.

In desperation, they called upon the young man once more.

## The external dependencies

He asked the Book of Nx, "How can I ensure the 'affected' spell works with a custom build, depending on the content, and only ships the boxes truly affected by external items?"

"Mark each box's build with a list of the build’s external dependencies and cross-check with your locked file," the book replied.

Following these instructions, the kingdom was once again able to use the "affected" spell for their shipments. The king was delighted, and the young assistant was richly rewarded.

But the challenges didn't end there. In the vast tapestry of kingdoms, each pursued its own path, crafting enchantments unlike those of their fellow realms. Some adorned their creations with windows, while others wove entirely unixs spells. You would not believe, in the most peculiar of kingdoms, vehicles bore a coachmen's seat upon the right side!

## The pruning

To bridge this wondrous diversity, they devised a magical document to record the elements required for each package’s installation, a scroll named "JSON" in homage to the ingenious Douglas who birthed the idea. Yet, their knowledge reached not the depths of these external items' interdependence; thus, they bundled all foreign artifacts, bearing the weight of slowness upon their quest.

They called upon the young lad once more.
  
"How can we ensure only the subset of our dependencies is installed based on the package scroll?" he asked the Book of Nx.

"Encircle yer dependencies in the yarn spun by a Greek cat, and with a deft hand, prune away all but those allies recorded within thy package script. Then, with the highest caution, brew a potion with dragon's breath and enchanted bat powder, drenched in the waters from the world turned upside down, where narwhals fly, and unicorns swim… or, in a simpler jest, invoke the 'generateLockFile' incantation as you build the enchanted boxes, and it shall conjure for thee the pruned scrolls of necessities."

With this piece of wisdom, the kingdom's deployments became faster and ever more efficient. 
"Hail the pruning!" shouted the villagers,

## The new pricing

By this time, the dragons had sensed a curious disturbance, though it did not emerge from under the sea. The flow of payment, like the ancient tides, had grown stagnant, threatening their very livelihood. Dragons from distant realms flaunted their expanded domains, boasting of their newfound ability to partake in the enchantments of Netflix, Amazon Prime, and Disney. The local dragons bore the brunt of ridicule among their kin. Action was imperative.

With sharpened ears and vigilant eyes, they resumed their watchful vigil over the shipments and, once again, intercepted the deliveries.

## The magical artifact and the helm

The king, recognizing the young man's prowess, summoned him one last time.

"You have, with skill and wit, lessened our shipments and banished the woes of broken wheels. You've steered us away from importing extraneous treasures and crafted package manifests locked in secrets. Yet, our deployments linger at a tortoise's pace, ripe for interception by the dragons," the king declared. "If you unravel this final enigma, I shall anoint you as my official delivery envoy and grant thee treasures beyond measure."

Turning to the mystical pages of his book, the young man sought wisdom on hastening deployments and ensuring their integrity.

"To speed forth your deployments and unite them as one," the book whispered, "you must dock all items and enshroud them within a sealed chest, save them to the cloud of Nx wisdom, and bound to a magical artifactory from the land of jFrog. Then, embark upon a journey to a realm where DevOps titans dwell. There, cunningly blend in by inquiring about the merits of Jenkins against Azure and a bucket over a hub. In a moment of distraction, seize one of their precious Kubernetes helms. With this helm, your deployments shall be invincible."

## The happy ever after

And so, he embarked on this mystical quest, following each step with unwavering resolve. 

Using the enchanted yarn, each box bore a scroll, upon which were etched the names of external dependencies. He whispered the incantation, "nx set shas," softly on the breeze, right before the omnipotent "affected" sprinkled with "generateLockFile" danced in the air.

A troop of loyal agents, his companions, carried these boxes on their journey, ensuring their safe passage. Each one wearing the helm to protect their precious shipment.

In the end, he triumphed over the dragons and ascended to the cherished role of the kingdom's chief deployment sage.

## Thank you

As for the dragons, they surrendered their dreams of free entertainment and embarked on a different path. They journeyed northward, where they joined a franchise known as "How to Train Your Dragon," contentedly embracing their newfound purpose in the world of storytelling. Thus, a harmonious tale unfolded, and all found their own enchanted endings in the grand scheme of the Nx.

May the wheels of your CI chariot swiftly turn, and as the conference's tapestry unfolds, I extend my gratitude and bid you farewell.
